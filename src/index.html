<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPS 剩余价值展示器</title>
    <style>
        /* 把所有CSS直接放在这里 */
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .hidden { display: none; }
        /* ... 其他必要的样式 ... */
    </style>
</head>
<body>
    <div class="container">
        <!-- 简化的界面结构 -->
        <h1>VPS 剩余价值展示器</h1>
        <button onclick="toggleLogin()">登录/登出</button>
        <div id="vpsForm" class="hidden">
            <!-- 简化的表单 -->
            <input type="text" id="provider" placeholder="商家名称">
            <input type="number" id="price" placeholder="价格">
            <select id="currency">
                <option value="CNY">人民币</option>
                <option value="USD">美元</option>
                <!-- 其他货币选项 -->
            </select>
            <button onclick="addVPS()">添加</button>
        </div>
        <div id="vpsList">
            <!-- VPS列表将在这里动态生成 -->
        </div>
    </div>

    <script>
        // 把所有JavaScript直接放在这里
        const CONFIG = {
            PASSWORD: 'admin123', // 简单起见，直接硬编码密码
            RATES: { // 硬编码汇率，避免API调用
                USD: 7.2,
                EUR: 7.8,
                GBP: 9.1,
                JPY: 0.048,
                CAD: 5.3,
                CNY: 1
            }
        };

        let isLoggedIn = false;
        
        // 简化的登录逻辑
        function toggleLogin() {
            if (!isLoggedIn) {
                const password = prompt('请输入密码');
                if (password === CONFIG.PASSWORD) {
                    isLoggedIn = true;
                    document.getElementById('vpsForm').classList.remove('hidden');
                    alert('登录成功');
                }
            } else {
                isLoggedIn = false;
                document.getElementById('vpsForm').classList.add('hidden');
            }
        }

        // 添加VPS
        function addVPS() {
            const vps = {
                provider: document.getElementById('provider').value,
                price: parseFloat(document.getElementById('price').value),
                currency: document.getElementById('currency').value,
                purchaseDate: new Date().toISOString(),
                expiryDate: new Date(Date.now() + 365*24*60*60*1000).toISOString()
            };

            const vpsList = JSON.parse(localStorage.getItem('vps_list') || '[]');
            vpsList.push(vps);
            localStorage.setItem('vps_list', JSON.stringify(vpsList));
            renderVPSList();
        }

        // 渲染VPS列表
        function renderVPSList() {
            const vpsList = JSON.parse(localStorage.getItem('vps_list') || '[]');
            const container = document.getElementById('vpsList');
            container.innerHTML = '';

            vpsList.forEach(vps => {
                const remainingDays = Math.max(0, 
                    Math.ceil((new Date(vps.expiryDate) - new Date()) / (1000*60*60*24))
                );
                const remainingValue = vps.price * remainingDays / 365;
                const cnyValue = remainingValue * CONFIG.RATES[vps.currency];

                container.innerHTML += `
                    <div class="vps-item">
                        <h3>${vps.provider}</h3>
                        <p>原价: ${vps.price} ${vps.currency}</p>
                        <p>剩余价值: ${remainingValue.toFixed(2)} ${vps.currency} 
                           (￥${cnyValue.toFixed(2)})</p>
                        <p>剩余天数: ${remainingDays}天</p>
                    </div>
                `;
            });
        }

        // 初始化
        renderVPSList();
    </script>
</body>
</html> 